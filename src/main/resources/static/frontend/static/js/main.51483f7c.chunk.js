(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{22:function(e,t,a){e.exports=a(39)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){e.exports=a.p+"static/media/get-your-card.c589386c.png"},35:function(e,t,a){e.exports=a.p+"static/media/correctBell.906a768a.mp3"},36:function(e,t,a){e.exports=a.p+"static/media/loading-icon.53aede58.gif"},37:function(e,t,a){e.exports=a.p+"static/media/flag.3e60cd03.gif"},38:function(e,t,a){e.exports=a.p+"static/media/Facebook-share-button.23b7d045.png"},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),c=a.n(i),s=(a(27),a(2)),o=a(5),l=a(7),d=a(6),u=(a(28),a(11)),m=a(9),h=a(29),f=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"row justify-content-center",id:"index-page"},r.a.createElement("div",{className:"col-9"},r.a.createElement("div",{className:"index-info"},"Play with Anyone ANYWHERE!!"),r.a.createElement("div",{className:"index-info"},"Play with your Friends and Family in Lockdown!"),r.a.createElement("div",{className:"index-info"},"Great for Teaching Kids about Corona Events!")),r.a.createElement("div",{className:"col-7",id:"get-your-card"},r.a.createElement(u.b,{to:"/card"},r.a.createElement("img",{src:h,alt:"get your card"}))))}}]),a}(r.a.Component),v=a(21),p=a.n(v),g=function e(t,a){Object(s.a)(this,e),this.id=void 0,this.phrase=void 0,this.isFree=!1,this.gridPosition=void 0,this.phrase=t,this.isFree=a},E={API_URL:""},y=new(function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).card=void 0,e.getCard=function(){return new Promise((function(t,a){e._get("/api/getCard").then((function(a){e.card=a,t(a)})).catch((function(e){return a(e)}))}))},e.setChecked=function(t,a){e._get("/api/".concat(a?"phraseChecked":"phraseUnchecked","/").concat(t,"/").concat(e.card.playId))},e.setBingo=function(){e._get("/api/setBingo/".concat(e.card.playId))},e}return a}(function(){function e(){Object(s.a)(this,e),this._service_url=E.API_URL}return Object(o.a)(e,[{key:"api",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=a||{};return r["Content-Type"]||!1!==n||(r["Content-Type"]="application/json"),localStorage.getItem("token")&&(r.Authorization="Bearer ".concat(localStorage.getItem("token"))),Object.assign(t,{headers:r}),fetch(this._service_url+e,t).then((function(e){return 200===e.status?Promise.resolve(e.json()):Promise.reject(e)})).catch((function(e){return Promise.reject(e)}))}},{key:"_get",value:function(e,t){return this.api(e,{})}},{key:"_post",value:function(e,t){return this.api(e,{method:"POST",body:JSON.stringify(t)})}},{key:"formPost",value:function(e,t){return this.api(e,{method:"POST",body:t},{},!0)}},{key:"_patch",value:function(e,t){return this.api(e,{method:"PATCH",body:JSON.stringify(t)})}},{key:"_put",value:function(e,t){return this.api(e,{method:"PUT",body:JSON.stringify(t)})}},{key:"_delete",value:function(e){return this.api(e,{method:"DELETE"})}}]),e}())),b=a(35),k=a(36),O=a(37),P=a(38),w=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).bell=new p.a(b),n.componentDidMount=function(){y.getCard().then((function(e){var t=e.phrases;t.splice(12,0,new g("Free",!0)),t.forEach((function(e,t){var a=Math.floor(t/5);e.gridPosition={y:a,x:t-5*a}})),n.setState({phrases:e.phrases,loaded:!0}),n.resetGrid()}))},n.onMarkSquare=function(){var e=n.state.markedPhrases;n.state.viewPhrase&&(-1===n.state.markedPhrases.indexOf(n.state.viewPhrase)?(e.push(n.state.viewPhrase),y.setChecked(n.state.viewPhrase.id,!0)):(e=e.filter((function(e){var t;return e.id!==(null===(t=n.state.viewPhrase)||void 0===t?void 0:t.id)})),y.setChecked(n.state.viewPhrase.id,!1))),n.setState({markedPhrases:e,viewPhrase:null},n.checkForBingo)},n.checkForBingo=function(){var e,t=!1,a=[[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]];n.state.markedPhrases.forEach((function(e){a[e.gridPosition.y][e.gridPosition.x]=!0}));for(var r=[],i=[],c=0;c<5;c++){e=[];for(var s=0;s<5;s++)-1===a[s].indexOf(!1)&&(t=!0),e.push(a[s][c]),c===s&&(r.push(a[s][c]),i.push(a[s][4-c]));if(-1===e.indexOf(!1)&&(t=!0,console.log("x")),t)break}t||-1!==r.indexOf(!1)&&-1!==i.indexOf(!1)||(t=!0),t&&(n.bell.play(),n.setState({hasBingo:t}),y.setBingo())},n.resetGrid=function(){n.setState({viewPhrase:null,hasBingo:!1,markedPhrases:[n.state.phrases[12]]})},n.state={phrases:[],loaded:!1,viewPhrase:null,markedPhrases:[],hasBingo:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e,t=this;return this.state.loaded?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row justify-content-center",id:"bingo-card"},r.a.createElement("div",{className:"col-10",id:"intro"},"Click the word or phrase you hear during the briefing."),r.a.createElement("div",{className:"grid"},r.a.createElement("div",{className:"overlay ".concat(null!==this.state.viewPhrase?"viewPhrase":"")},r.a.createElement("div",{className:"inner"},r.a.createElement("h2",null,null===(e=this.state.viewPhrase)||void 0===e?void 0:e.phrase),r.a.createElement("button",{className:"btn btn-success",onClick:this.onMarkSquare}))),r.a.createElement("div",{className:"overlay",style:{display:this.state.hasBingo?"block":"none"}},r.a.createElement("div",{id:"bingo-panel"},r.a.createElement("h1",null,"BINGO!"),r.a.createElement("a",{href:""},r.a.createElement("img",{src:P,alt:"share on facebook"})))),this.state.phrases.map((function(e,a){var i=-1!==t.state.markedPhrases.indexOf(e);return r.a.createElement(n.Fragment,{key:"square_".concat(a)},r.a.createElement("div",{className:"square",onClick:function(){return e.isFree||t.state.hasBingo?null:t.setState({viewPhrase:e})}},e.isFree&&r.a.createElement("div",{className:"inner"},r.a.createElement("img",{src:O,alt:"flag"}),r.a.createElement("span",{id:"freedom-square"},"Freedom Square")),!e.isFree&&r.a.createElement("div",{className:"inner \n                                                                        ".concat(i?"marked-square":""," \n                                                                        ").concat(e.isFree||t.state.hasBingo?"":"active-square","\n                                                                    ")},e.phrase),r.a.createElement("div",{className:"marker",style:{display:i&&!e.isFree?"block":"none"}},"X"),"}"),(a+1)%5===0&&r.a.createElement("div",{className:"clear"}))}))))):r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-9 col-2",id:"loading-panel"},r.a.createElement("div",{className:"inner text-center"},r.a.createElement("span",{className:"text"},"BUILDING YOUR CARD!"),r.a.createElement("img",{src:k,alt:"loading icon"}))))}}]),a}(r.a.Component),N=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:f}),r.a.createElement(m.a,{exact:!0,path:"/card",component:w}))}}]),a}(r.a.Component),j=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-12 col-md-8 content-area",id:"content-center"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 nopadding text-center",id:"header"},r.a.createElement("span",{className:"text-center title"},"Briefing BINGO!!"))),r.a.createElement(n.Fragment,null,r.a.createElement(u.a,null,r.a.createElement(N,null))))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.51483f7c.chunk.js.map