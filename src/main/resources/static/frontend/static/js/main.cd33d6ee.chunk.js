(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{22:function(e,t,a){e.exports=a(35)},27:function(e,t,a){},28:function(e,t,a){},34:function(e,t,a){e.exports=a.p+"static/media/correctBell.906a768a.mp3"},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),s=a.n(i),c=(a(27),a(2)),o=a(5),l=a(7),u=a(6),h=(a(28),a(11)),d=a(9),m=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h.b,{to:"/card"},"Bingo Card"))}}]),a}(r.a.Component),f=a(21),v=a.n(f),p=function e(t,a){Object(c.a)(this,e),this.id=void 0,this.phrase=void 0,this.isFree=!1,this.gridPosition=void 0,this.phrase=t,this.isFree=a},g={API_URL:""},k=new(function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).card=void 0,e.getCard=function(){return new Promise((function(t,a){e._get("/api/getCard").then((function(a){e.card=a,t(a)})).catch((function(e){return a(e)}))}))},e.setChecked=function(t,a){e._get("/api/".concat(a?"phraseChecked":"phraseUnchecked","/").concat(t,"/").concat(e.card.playId))},e.setBingo=function(){e._get("/api/setBingo/".concat(e.card.playId))},e}return a}(function(){function e(){Object(c.a)(this,e),this._service_url=g.API_URL}return Object(o.a)(e,[{key:"api",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=a||{};return r["Content-Type"]||!1!==n||(r["Content-Type"]="application/json"),localStorage.getItem("token")&&(r.Authorization="Bearer ".concat(localStorage.getItem("token"))),Object.assign(t,{headers:r}),fetch(this._service_url+e,t).then((function(e){return 200===e.status?Promise.resolve(e.json()):Promise.reject(e)})).catch((function(e){return Promise.reject(e)}))}},{key:"_get",value:function(e,t){return this.api(e,{})}},{key:"_post",value:function(e,t){return this.api(e,{method:"POST",body:JSON.stringify(t)})}},{key:"formPost",value:function(e,t){return this.api(e,{method:"POST",body:t},{},!0)}},{key:"_patch",value:function(e,t){return this.api(e,{method:"PATCH",body:JSON.stringify(t)})}},{key:"_put",value:function(e,t){return this.api(e,{method:"PUT",body:JSON.stringify(t)})}},{key:"_delete",value:function(e){return this.api(e,{method:"DELETE"})}}]),e}())),P=a(34),b=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).bell=new v.a(P),n.componentDidMount=function(){k.getCard().then((function(e){var t=e.phrases;t.splice(12,0,new p("Free",!0)),t.forEach((function(e,t){var a=Math.floor(t/5);e.gridPosition={y:a,x:t-5*a}})),n.setState({phrases:e.phrases,loaded:!0}),n.resetGrid()}))},n.onMarkSquare=function(){var e=n.state.markedPhrases;n.state.viewPhrase&&(-1===n.state.markedPhrases.indexOf(n.state.viewPhrase)?(e.push(n.state.viewPhrase),k.setChecked(n.state.viewPhrase.id,!0)):(e=e.filter((function(e){var t;return e.id!==(null===(t=n.state.viewPhrase)||void 0===t?void 0:t.id)})),k.setChecked(n.state.viewPhrase.id,!1))),n.setState({markedPhrases:e,viewPhrase:null},n.checkForBingo)},n.checkForBingo=function(){var e,t=!1,a=[[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]];n.state.markedPhrases.forEach((function(e){a[e.gridPosition.y][e.gridPosition.x]=!0}));for(var r=[],i=[],s=0;s<5;s++){e=[];for(var c=0;c<5;c++)-1===a[c].indexOf(!1)&&(t=!0),e.push(a[c][s]),s===c&&(r.push(a[c][s]),i.push(a[c][4-s]));if(-1===e.indexOf(!1)&&(t=!0,console.log("x")),t)break}t||-1!==r.indexOf(!1)&&-1!==i.indexOf(!1)||(t=!0),t&&(n.bell.play(),n.setState({hasBingo:t}),k.setBingo())},n.resetGrid=function(){n.setState({viewPhrase:null,hasBingo:!1,markedPhrases:[n.state.phrases[12]]})},n.state={phrases:[],loaded:!1,viewPhrase:null,markedPhrases:[],hasBingo:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return this.state.loaded?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-12 col-md-7 grid"},!this.state.viewPhrase&&this.state.phrases.map((function(t,a){var i=-1!==e.state.markedPhrases.indexOf(t);return r.a.createElement(n.Fragment,{key:"square_".concat(a)},r.a.createElement("div",{className:"square",onClick:function(){return t.isFree||e.state.hasBingo?null:e.setState({viewPhrase:t})}},r.a.createElement("div",{className:"inner \n                                                                ".concat(i?"marked-square":""," \n                                                                ").concat(t.isFree||e.state.hasBingo?"":"active-square","\n                                                            ")},t.phrase)),(a+1)%5===0&&r.a.createElement("div",{className:"clear"}))})),this.state.viewPhrase&&r.a.createElement("div",{className:"row viewPhrase justify-content-center"},r.a.createElement("div",{className:"col-10 col-md-8 inner"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("h2",null,this.state.viewPhrase.phrase)),r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("button",{className:"btn btn-success",onClick:this.onMarkSquare},-1!==this.state.markedPhrases.indexOf(this.state.viewPhrase)?"Unmark":"Mark")))))))):r.a.createElement("div",null,"Loading...")}}]),a}(r.a.Component),y=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:m}),r.a.createElement(d.a,{exact:!0,path:"/card",component:b}))}}]),a}(r.a.Component),O=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(n.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(y,null))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.cd33d6ee.chunk.js.map